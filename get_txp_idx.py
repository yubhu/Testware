def get_txp_idx(swam3_object,chip):
    from get_chip_revision import get_chip_revision as get_chip_revision
    from bin2dec import bin2dec as bin2dec
    from bget import bget as bget
    from bset import bset as bset
    from dec2bin import dec2bin as dec2bin
 
    txp_table = [['26', '26', '26', '0'], ['27', '26', '26', '0'], ['27', '27', '26', '0'], ['27', '27', '26', '1'], ['27', '27', '27', '1'], ['28', '27', '27', '1'], ['28', '27', '27', '2'], ['28', '28', '27', '2'], ['28', '28', '28', '2'], ['28', '28', '28', '3'], ['29', '28', '28', '3'], ['29', '29', '28', '3'], ['29', '29', '28', '4'], ['29', '29', '29', '4'], ['30', '29', '29', '4'], ['30', '29', '29', '5'], ['30', '30', '29', '5'], ['30', '30', '30', '5'], ['30', '30', '30', '6'], ['31', '30', '30', '6'], ['31', '31', '30', '6'], ['31', '31', '30', '7'], ['31', '31', '31', '7'], ['32', '31', '31', '7'], ['32', '31', '31', '8'], ['32', '32', '31', '8'], ['32', '32', '32', '8'], ['32', '32', '32', '9'], ['33', '32', '32', '9'], ['33', '33', '32', '9'], ['33', '33', '32', '10'], ['33', '33', '33', '10'], ['34', '33', '33', '10'], ['34', '33', '33', '11'], ['34', '34', '33', '11'], ['34', '34', '34', '11'], ['34', '34', '34', '12'], ['35', '34', '34', '12'], ['35', '35', '34', '12'], ['35', '35', '34', '13'], ['35', '35', '35', '13'], ['36', '35', '35', '13'], ['36', '35', '35', '14'], ['36', '36', '35', '14'], ['36', '36', '36', '14'], ['36', '36', '36', '15'], ['37', '36', '36', '15'], ['37', '37', '36', '15'], ['37', '37', '36', '16'], ['37', '37', '37', '16'], ['38', '37', '37', '16'], ['38', '37', '37', '17'], ['38', '38', '37', '17'], ['38', '38', '38', '17'], ['38', '38', '38', '18'], ['39', '38', '38', '18'], ['39', '39', '38', '18'], ['39', '39', '38', '19'], ['39', '39', '39', '19'], ['40', '39', '39', '19'], ['40', '39', '39', '20'], ['40', '40', '39', '20'], ['40', '40', '40', '20'], ['40', '40', '40', '21'], ['41', '40', '40', '21'], ['41', '41', '40', '21'], ['41', '41', '40', '22'], ['41', '41', '41', '22'], ['42', '41', '41', '22'], ['42', '41', '41', '23'], ['42', '42', '41', '23'], ['42', '42', '42', '23'], ['42', '42', '42', '24'], ['43', '42', '42', '24'], ['43', '43', '42', '24'], ['43', '43', '42', '25'], ['43', '43', '43', '25'], ['44', '44', '43', '25'], ['44', '44', '43', '26'], ['44', '45', '44', '26'], ['45', '45', '45', '26'], ['45', '45', '45', '27'], ['46', '46', '45', '27'], ['46', '47', '46', '27'], ['46', '47', '46', '28'], ['47', '47', '47', '28'], ['48', '48', '47', '28'], ['48', '48', '47', '29'], ['48', '49', '48', '29'], ['49', '49', '49', '29'], ['49', '49', '49', '30'], ['50', '50', '49', '30'], ['50', '51', '50', '30'], ['50', '51', '50', '31'], ['51', '51', '51', '31'], ['52', '52', '51', '31'], ['52', '53', '52', '31'], ['53', '54', '53', '31']]
    if get_chip_revision(swam3_object,chip) == 0:
        txp_idx = None
        lor = None
        pa1 = None
        pa2 = None
        pa3 = None
        txbb_gain = None
    else:
        txp_idx = int(bin2dec(bget('txp_cal_lut_idx',swam3_object,chip)))
        if txp_idx == 127:
            pa1 = 26
            pa2 = 26
            pa3 = 26
            txbb_gain = 0
            bset('lor_addr_tbl',dec2bin(txbb_gain,5),swam3_object,chip)
            lor = bin2dec(bget('rd_lor_tbl',swam3_object,chip))   # read the current LOR DAC table @ TXBB 
        else:
            txp_entry=txp_table[txp_idx] #Not txp_idx+1 because Python table starts from 0
            pa1=int(txp_entry[0])
            pa2=int(txp_entry[1])
            pa3=int(txp_entry[2])  
            txbb_gain=int(txp_entry[3])
            bset('lor_addr_tbl',dec2bin(txbb_gain,5),swam3_object,chip)
            lor = int(bin2dec(bget('rd_lor_tbl',swam3_object,chip)))   # read the current LOR DAC table @ TXBB
    return txp_idx,lor,pa1,pa2,pa3,txbb_gain